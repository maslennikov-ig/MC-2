# MegaCampus Production Environment Variables
# Copy this file to .env.production and fill in the actual values
# NEVER commit .env.production to git!

# ===========================================
# APPLICATION CONFIGURATION
# ===========================================
NODE_ENV=production
PORT=4000
LOG_LEVEL=info

# ===========================================
# SUPABASE CONFIGURATION
# ===========================================
# Get these from Supabase Dashboard > Project Settings > API
# Project: MegaCampusAI (ref: diqooqbuchsliypgwksu)
SUPABASE_URL=https://diqooqbuchsliypgwksu.supabase.co
SUPABASE_ANON_KEY=your-anon-key-here
SUPABASE_SERVICE_KEY=your-service-role-key-here
SUPABASE_JWT_SECRET=your-jwt-secret-here

# Public Supabase credentials (safe to expose to frontend)
NEXT_PUBLIC_SUPABASE_URL=https://diqooqbuchsliypgwksu.supabase.co
NEXT_PUBLIC_SUPABASE_ANON_KEY=your-anon-key-here

# Alternative service role key name for Next.js
SUPABASE_SERVICE_ROLE_KEY=your-service-role-key-here

# ===========================================
# REDIS CONFIGURATION
# ===========================================
# Redis URL for BullMQ and caching
REDIS_URL=redis://redis:6379
REDIS_PASSWORD=

# ===========================================
# DOCLING MCP CONFIGURATION
# ===========================================
# URL for Docling MCP document processing service
DOCLING_MCP_URL=http://docling-mcp:8000/mcp

# ===========================================
# LLM API KEYS
# ===========================================
# OpenAI API Key for GPT models
OPENAI_API_KEY=sk-your-openai-api-key

# Anthropic API Key for Claude models
ANTHROPIC_API_KEY=sk-ant-your-anthropic-api-key

# ===========================================
# QDRANT VECTOR DATABASE
# ===========================================
# Qdrant Cloud configuration
QDRANT_URL=https://your-cluster.qdrant.io
QDRANT_API_KEY=your-qdrant-api-key
QDRANT_COLLECTION_NAME=megacampus_embeddings

# ===========================================
# JINA AI EMBEDDINGS (REQUIRED)
# ===========================================
# Get from: https://jina.ai/embeddings/
JINA_API_KEY=your-jina-api-key-here

# ===========================================
# ENCRYPTION KEY (REQUIRED)
# ===========================================
# Generate with: openssl rand -hex 32
# Used for encrypting API keys stored in database (AES-256-GCM)
ENCRYPTION_KEY=your-64-character-hex-encryption-key-here

# ===========================================
# GOOGLE DRIVE INTEGRATION (OPTIONAL)
# ===========================================
# For Google Drive import functionality
GOOGLE_CLIENT_ID=your-google-client-id
GOOGLE_CLIENT_SECRET=your-google-client-secret
GOOGLE_REDIRECT_URI=https://megacampus.ai/api/auth/google/callback

# ===========================================
# APPLICATION URLs
# ===========================================
# Public URL of the application
NEXT_PUBLIC_SITE_URL=https://megacampus.ai

# API URL (for frontend to backend communication)
NEXT_PUBLIC_API_URL=https://api.megacampus.ai

# ===========================================
# SECURITY CONFIGURATION
# ===========================================
# CORS origins (comma-separated list)
CORS_ORIGIN=https://megacampus.ai,https://www.megacampus.ai

# Session secret for authentication
SESSION_SECRET=your-random-session-secret-here

# ===========================================
# MONITORING & LOGGING (OPTIONAL)
# ===========================================
# Sentry DSN for error tracking
SENTRY_DSN=https://your-sentry-dsn
SENTRY_ENVIRONMENT=production

# ===========================================
# FEATURE FLAGS
# ===========================================
# Enable/disable features in production
ENABLE_ANALYTICS=true
ENABLE_DEBUG_MODE=false
ENABLE_MAINTENANCE_MODE=false

# ===========================================
# FILE UPLOAD CONFIGURATION
# ===========================================
# Maximum file upload size in MB
MAX_FILE_SIZE_MB=50

# Allowed file types (comma-separated)
ALLOWED_FILE_TYPES=pdf,doc,docx,txt,md

# ===========================================
# RATE LIMITING
# ===========================================
# Rate limit configuration
RATE_LIMIT_WINDOW_MS=900000
RATE_LIMIT_MAX_REQUESTS=100

# ===========================================
# DATABASE CONNECTION POOL
# ===========================================
# PostgreSQL connection pool settings
DB_POOL_MIN=2
DB_POOL_MAX=10

# ===========================================
# BULLMQ WORKER CONFIGURATION
# ===========================================
# Number of concurrent jobs per worker
WORKER_CONCURRENCY=5

# Worker job timeout in milliseconds
WORKER_JOB_TIMEOUT=300000

# ===========================================
# PERFORMANCE CONFIGURATION
# ===========================================
# Next.js build optimization
NEXT_TELEMETRY_DISABLED=1

# Node.js memory configuration
NODE_OPTIONS=--max-old-space-size=2048

# ===========================================
# GITHUB CONTAINER REGISTRY
# ===========================================
# Used by deploy script to pull images from ghcr.io
# Get from: https://github.com/settings/tokens (needs packages:read scope)
GITHUB_TOKEN=ghp_your_github_token_with_packages_read
GITHUB_ACTOR=maslennikov-ig
