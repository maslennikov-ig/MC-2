# MegaCampus AI: Платформа автоматической генерации образовательного контента

## Elevator Pitch

**MegaCampus AI** — это enterprise-платформа, которая превращает **любые документы или просто тему** в полноценные образовательные курсы за минуты, а не недели.

Наша технология решает главную проблему корпоративного обучения: **создание качественного контента стоит дорого и занимает месяцы**. MegaCampus сокращает этот цикл с 2-3 месяцев до 15-30 минут при стоимости **$0.15-0.40 за курс** вместо $5,000-50,000 за курс при ручной разработке.

---

## Два режима создания курсов

### 1. Генерация из документов (Document-Based)

Загрузите любые материалы — и получите структурированный курс:

| Формат | Поддержка | Особенности |
|--------|-----------|-------------|
| **PDF** | ✅ Полная | OCR для сканов, извлечение таблиц и изображений |
| **DOCX** | ✅ Полная | Сохранение структуры, стилей, встроенных объектов |
| **PPTX** | ✅ Полная | Преобразование слайдов в учебные модули |
| **XLSX** | ✅ Полная | Извлечение данных и таблиц |
| **HTML** | ✅ Полная | Парсинг веб-страниц и документации |
| **Markdown** | ✅ Полная | Нативная поддержка |
| **Изображения** | ✅ Premium | PNG, JPG, GIF, WebP с Vision AI + OCR |

### 2. Генерация из темы (Topic-Only)

**Документы не обязательны!** Просто укажите тему — и AI создаст полный курс:

```
Ввод: "Основы Python для начинающих"

Результат:
├── 8 модулей (секций)
├── 45 уроков
├── 12 часов контента
└── Практические задания
```

**Как это работает**: Система использует собственные знания LLM + RAG-поиск по интернету для создания актуального, структурированного курса.

---

## Docling — Универсальный движок обработки документов

Мы интегрировали **IBM Docling** — state-of-the-art систему понимания документов, развернутую в защищенном контуре:

### Что делает Docling уникальным

```
┌────────────────────────────────────────────────────────────────────┐
│                         DOCLING PIPELINE                           │
│                                                                     │
│  Любой документ                                                    │
│       ↓                                                            │
│  ┌─────────────────────────────────────────────────────────────┐  │
│  │  Layout Analysis (AI-модель распознавания структуры)         │  │
│  │  • Заголовки и подзаголовки                                   │  │
│  │  • Параграфы и списки                                         │  │
│  │  • Таблицы (с сохранением структуры ячеек)                   │  │
│  │  • Изображения и диаграммы                                    │  │
│  │  • Формулы и специальные символы                              │  │
│  └─────────────────────────────────────────────────────────────┘  │
│       ↓                                                            │
│  ┌─────────────────────────────────────────────────────────────┐  │
│  │  OCR Engine (для сканированных документов и изображений)     │  │
│  │  • Распознавание текста на 100+ языках                        │  │
│  │  • Обработка рукописного текста                               │  │
│  │  • Извлечение текста из изображений                          │  │
│  └─────────────────────────────────────────────────────────────┘  │
│       ↓                                                            │
│  DoclingDocument JSON                                              │
│  (структурированное представление документа)                       │
│       ↓                                                            │
│  Markdown + Embeddings → Qdrant Vector DB                          │
└────────────────────────────────────────────────────────────────────┘
```

### Преимущества Docling

| Возможность | Описание |
|-------------|----------|
| **Универсальность** | Один движок для всех форматов |
| **Сохранение структуры** | Иерархия заголовков, связи между секциями |
| **Извлечение таблиц** | Полная структура с объединёнными ячейками |
| **OCR** | Текст из сканов и изображений |
| **Мультиязычность** | 100+ языков распознавания |
| **Кэширование** | Повторная обработка мгновенна |

---

## Шестистадийный генерационный пайплайн

Наша система — это **production-ready конвейер** из 6 последовательных стадий:

```
┌─────────────────────────────────────────────────────────────────────────┐
│                      MEGACAMPUS AI PIPELINE                              │
│                                                                          │
│  ┌──────────┐   ┌──────────┐   ┌──────────┐   ┌──────────┐             │
│  │ STAGE 1  │ → │ STAGE 2  │ → │ STAGE 3  │ → │ STAGE 4  │             │
│  │ Upload   │   │ Process  │   │ Summarize│   │ Analyze  │             │
│  │ Docs     │   │ Docling  │   │ LLM      │   │ 6-Phase  │             │
│  └──────────┘   └──────────┘   └──────────┘   └──────────┘             │
│                                                    ↓                     │
│                                  ┌──────────┐   ┌──────────┐            │
│                                  │ STAGE 6  │ ← │ STAGE 5  │            │
│                                  │ Content  │   │ Structure│            │
│                                  │ 30 workers│   │ Generate │            │
│                                  └──────────┘   └──────────┘            │
└─────────────────────────────────────────────────────────────────────────┘
```

### Детальное описание стадий

| Стадия | Название | Что делает | Технология |
|--------|----------|------------|------------|
| **Stage 1** | Document Upload | Загрузка и валидация файлов | Supabase Storage |
| **Stage 2** | Document Processing | Конвертация документов в структурированный формат | **Docling** + Qdrant |
| **Stage 3** | Summarization | Интеллектуальная суммаризация с сохранением ключевой информации | LLM + Chunking |
| **Stage 4** | Analysis | 6-фазный глубокий анализ контента | Multi-LLM Pipeline |
| **Stage 5** | Structure Generation | Создание модульной структуры курса | LLM + RAG |
| **Stage 6** | Content Generation | Параллельная генерация уроков | 30 воркеров |

### Stage 4: Шесть фаз анализа

Наш уникальный **6-фазный анализ** обеспечивает глубокое понимание материала:

| Фаза | Название | Результат |
|------|----------|-----------|
| 1 | **Classifier** | Определение типа контента, сложности, целевой аудитории |
| 2 | **Scope** | Выделение ключевых тем и границ курса |
| 3 | **Expert** | Экспертный анализ предметной области |
| 4 | **Synthesis** | Синтез знаний и выявление связей |
| 5 | **Assembly** | Сборка структуры учебного плана |
| 6 | **RAG Planning** | Планирование использования контекста для генерации |

### Pedagogical Engine (Методическое ядро)

В отличие от простых "генераторов текста", наша платформа строит обучение на базе доказательных педагогических практик:

*   **Bloom's Taxonomy Validator**: Встроенный валидатор проверяет каждый учебный результат (Learning Outcome) по базе из **165 педагогических глаголов** (Bilingual Whitelist). Это гарантирует, что курс учит *применять* знания, а не просто *знать*.
*   **OSCQR Rubric**: AI-судья (LLM Judge) оценивает качество каждого урока по стандарту *Online Student Course Quality Review* (30+ критериев).
*   **Semantic Scaffolding**: Уникальная V2 схема (LessonSpecificationV2), которая выстраивает "строительные леса" обучения — от простых концепций к сложным проектам (Zone of Proximal Development).
*   **SMART Objectives**: Все цели обучения автоматически приводятся к формату SMART (Specific, Measurable, Achievable, Relevant, Time-bound).
*   **ADDIE Framework**: Пайплайн генерации де-факто реализует этапы Analysis -> Design -> Development -> Implementation -> Evaluation через специализированных AI-агентов.

---

## Полный стек AI-моделей

Мы используем **7+ языковых моделей** с интеллектуальной маршрутизацией:

### Иерархия моделей по задачам

| Задача | Модель | Контекст | Стоимость | Когда используется |
|--------|--------|----------|-----------|-------------------|
| **Простой анализ** | OSS-20B | 128K | $0.08/1M | Классификация, простые задачи |
| **Стандартный анализ** | OSS-120B | 128K | $0.20/1M | Основной анализ документов |
| **Генерация (RU)** | Qwen3 235B | 128K | $0.11-0.60/1M | Русскоязычный контент |
| **Генерация (EN)** | DeepSeek V3.1 | 128K | $0.27-1.10/1M | Англоязычный контент |
| **Fallback генерация** | KIMI-K2 | 128K | $0.55-2.25/1M | Резервная модель |
| **Большой контекст** | Grok 4 Fast | **2M** | $0.20-0.50/1M | Документы >128K токенов |
| **Overflow контекст** | Gemini 2.5 Flash | **1M** | $0.075-0.30/1M | Очень большие документы |

### Интеллектуальная маршрутизация (RT-001)

```
┌────────────────────────────────────────────────────────────────┐
│                    MODEL ROUTER                                 │
│                                                                  │
│  Входящий запрос                                                │
│       ↓                                                         │
│  ┌────────────────────────────────────────────────────────────┐│
│  │  1. Определение типа задачи (analysis / generation)        ││
│  │  2. Подсчёт токенов (< 80K / 80K-128K / > 128K)           ││
│  │  3. Определение языка (RU / EN / другой)                  ││
│  │  4. Оценка сложности (simple / complex)                   ││
│  └────────────────────────────────────────────────────────────┘│
│       ↓                                                         │
│  ┌─────────────┐  ┌─────────────┐  ┌─────────────┐            │
│  │   OSS-20B   │  │  Qwen3/     │  │ Grok 4 Fast │            │
│  │   $0.08     │  │  DeepSeek   │  │   $0.20     │            │
│  │   Simple    │  │  $0.11-1.10 │  │   >128K     │            │
│  └─────────────┘  └─────────────┘  └─────────────┘            │
│                                                                  │
│  Экономия: 30-40% vs использование одной модели               │
└────────────────────────────────────────────────────────────────┘
```

---

## Ключевые ноу-хау и технические преимущества

### 1. Zero-Hallucination Architecture

Мы победили главную проблему AI — галлюцинации — через трёхслойную защиту:

**A. Advanced RAG Strategy ("Parent/Child Indexing")**
Решает дилемму "точность vs контекст": мы ищем по маленьким фрагментам (для точности), но скармливаем нейросети их большие родительские блоки (для контекста).

**B. Entropy-Based Detection**
Система анализирует "неуверенность" модели (logprobs) при генерации фактов. Если энтропия высока — включается принудительная перепроверка через поисковик.

**C. Self-Correction Loop**
Пятиуровневая каскадная система восстановления сбоев:

| Уровень | Механизм | Стоимость | Успех |
|---------|----------|-----------|-------|
| 1 | Автоматический JSON-ремонт + нормализация полей | $0.00 | 95-98% |
| 2 | Critique-Revise (LLM анализирует свою ошибку) | $0.01 | 99% |
| 3 | Атомарная регенерация поля | $0.005 | 99.5% |
| 4 | Эскалация на более мощную модель | $0.03 | 99.9% |
| 5 | Fallback на альтернативного провайдера | $0.02 | 99.99% |

**Результат**: **98% успеха с первой попытки** против 70-80% у конкурентов.

---

### 2. CLEV Voting — Интеллектуальная система контроля качества

Консенсусное голосование с ранним выходом (Consensus via Lightweight Efficient Voting):

```
┌─────────────────────────────────────────────────────────┐
│  Урок отправляется на проверку                          │
│                                                         │
│  ┌─────────┐     ┌─────────┐                            │
│  │ Судья 1 │     │ Судья 2 │  ← Параллельная проверка   │
│  │  Qwen3  │     │ DeepSeek│                            │
│  └────┬────┘     └────┬────┘                            │
│       │               │                                 │
│       ▼               ▼                                 │
│  ┌─────────────────────────┐                            │
│  │   Согласие? (threshold) │                            │
│  └───────────┬─────────────┘                            │
│              │                                          │
│     ┌────────┴────────┐                                 │
│     │ ДА (70-85%)     │ НЕТ (15-30%)                    │
│     │ → Результат     │ → Третий судья (арбитр)         │
│     └─────────────────┘                                 │
└─────────────────────────────────────────────────────────┘
```

**Экономия**: 67% сокращение затрат на проверку качества.

---

### 3. Гибридный поиск с Reciprocal Rank Fusion

Трёхуровневый гибридный поиск в **Qdrant Vector Database**:

| Метод | Технология | Что находит |
|-------|------------|-------------|
| **Dense Search** | Jina-v3 embeddings (1024d) | Семантически похожий контент |
| **Sparse Search** | BM25 | Точные термины и ключевые слова |
| **Exact Match** | Full-text | Критически важные формулировки |

**Результат**: **89-92% точность релевантности** против 70-75% у чистого векторного поиска.

---

### 4. Транзакционный Outbox с FSM — Гарантия доставки

Event Sourcing паттерн с гарантированной доставкой:

```
┌────────────────────────────────────────────────────────┐
│                                                        │
│  PostgreSQL          Redis             BullMQ          │
│  ┌─────────┐        ┌─────────┐       ┌─────────┐      │
│  │   FSM   │───────▶│ Outbox  │─────▶│  Queue  │      │
│  │ States  │        │Processor│       │ Workers │      │
│  └─────────┘        └─────────┘       └─────────┘      │
│       │                  │                  │          │
│       │                  ▼                  │          │
│       │         ┌───────────────┐           │          │
│       └────────▶│  Retry Loop   │◀─────────┘          │
│                 │  (если сбой)  │                      │
│                 └───────────────┘                      │
│                                                        │
└────────────────────────────────────────────────────────┘
```

**Результат**: **Ноль потерянных задач**.

---

### 5. Параллельная генерация с 30 воркерами

| Размер курса | Секций | Уроков | Время генерации |
|--------------|--------|--------|-----------------|
| Малый | 15-20 | 50-70 | < 90 секунд |
| Средний | 25-35 | 100-150 | < 2 минуты |
| Большой | 40-60 | 200-300 | < 3 минуты |

**Сравнение**: Ручная разработка = 2-3 месяца работы методиста.

---

### 6. Иерархическое чанкирование с Late Chunking

Двухпроходное чанкирование:
1. **Pass 1**: MarkdownHeaderTextSplitter — сохраняет иерархию заголовков
2. **Pass 2**: RecursiveCharacterTextSplitter — точное токен-таргетирование

**Результат**: **85% точность поиска** против 70% у конкурентов.

---

## Roadmap: Будущие стадии генерации

В ближайший месяц мы расширяем возможности платформы:

### Новые типы контента (Stage 7+)

| Формат | Описание | Статус | ETA |
|--------|----------|--------|-----|
| **Видео** | AI-аватар озвучивает урок с визуализацией | 🔧 В разработке | Декабрь 2025 |
| **Аудио** | Подкаст-формат с TTS озвучкой | 📋 Planned | Декабрь 2025 |
| **Тесты/Квизы** | Интерактивные вопросы по материалу | 📋 Planned | Январь 2026 |
| **Презентации** | Автоматические слайды для каждого урока | 📋 Planned | Январь 2026 |
| **Упражнения** | Практические задания для закрепления | 📋 Planned | Февраль 2026 |
| **Конспекты** | Краткие выжимки ключевых моментов | 📋 Planned | Февраль 2026 |
| **Домашние задания** | Задачи для самостоятельной работы | 📋 Planned | Март 2026 |

### Архитектура расширения

```
                        ┌─────────────────────┐
                        │  Generated Course   │
                        │  (Stage 6 output)   │
                        └──────────┬──────────┘
                                   │
           ┌───────────────────────┼───────────────────────┐
           │                       │                       │
     ┌─────▼─────┐          ┌─────▼─────┐          ┌─────▼─────┐
     │  Stage 7  │          │  Stage 8  │          │  Stage 9  │
     │   Video   │          │   Audio   │          │  Quizzes  │
     │ AI Avatar │          │    TTS    │          │   Tests   │
     └───────────┘          └───────────┘          └───────────┘
           │                       │                       │
     ┌─────▼─────┐          ┌─────▼─────┐          ┌─────▼─────┐
     │ Stage 10  │          │ Stage 11  │          │ Stage 12  │
     │   Slides  │          │ Exercises │          │ Homework  │
     └───────────┘          └───────────┘          └───────────┘
```

---

## Экономика продукта

### Себестоимость генерации курса

| Компонент | Стоимость | Комментарий |
|-----------|-----------|-------------|
| Stage 1 (Upload) | $0.00 | Только хранение |
| Stage 2-3 (Документы) | $0.02-0.05 | Docling + суммаризация |
| Stage 4 (Анализ) | $0.05-0.15 | 6-фазный анализ |
| Stage 5 (Структура) | $0.03-0.10 | Генерация модулей |
| Stage 6 (Контент) | $0.05-0.10 | 30-параллельная генерация |
| **ИТОГО** | **$0.15-0.40** | За полный курс |

### Сравнение с рынком

| Метод | Стоимость | Время | Качество |
|-------|-----------|-------|----------|
| Ручная разработка | $5,000-50,000 | 2-3 месяца | Высокое |
| Аутсорс | $2,000-10,000 | 2-4 недели | Среднее |
| Шаблоны + редактирование | $500-2,000 | 1-2 недели | Низкое-среднее |
| **MegaCampus AI** | **$0.15-0.40** | **15-30 минут** | **Высокое** |

**ROI для клиента**: **10,000x-100,000x** экономия.

---

## Технологический стек

| Слой | Технологии |
|------|------------|
| **Frontend** | Next.js 15, React 19, TypeScript, Tailwind CSS |
| **Backend** | Node.js, tRPC, BullMQ (очереди), Supabase (PostgreSQL) |
| **Document Processing** | **IBM Docling** (PDF, DOCX, PPTX, images), OCR |
| **AI/ML** | OpenRouter (7+ моделей), Jina-v3 (embeddings) |
| **Vector Database** | **Qdrant** (гибридный поиск, 1M+ векторов) |
| **Инфраструктура** | Vercel, Railway, Redis, Docker |

---

## Конкурентные преимущества

| Критерий | MegaCampus | Конкуренты |
|----------|------------|------------|
| Успех LLM с первой попытки | 98% | 70-80% |
| Точность RAG-поиска | 89-92% | 70-75% |
| Поддержка форматов | 12+ включая изображения | 3-5 |
| Генерация из темы | ✅ | ❌ |
| Модели в пайплайне | 7+ | 1-2 |
| Время генерации курса | 15-30 мин | Часы-дни |
| Потеря задач при сбоях | 0% | 1-5% |

---

## Enterprise-Grade Security

Безопасность заложена на уровне архитектуры ("Secure by Design"):

| Уровень | Технология | Описание |
|---------|------------|----------|
| **Data Isolation** | **Row-Level Security (RLS)** | 100% покрытие таблиц политиками доступа на уровне строк PostgreSQL. Данные разных клиентов физически изолированы. |
| **Auth** | **JWT Custom Claims** | Высокопроизводительная авторизация. Валидация прав доступа происходит без лишних запросов к БД. |
| **Privacy** | **Zero-Retention** | Исходные файлы обрабатываются в памяти и удаляются сразу после векторизации. Мы храним только векторы. |
| **Compliance** | **No-Training** | Используем Enterprise-контракты с AI-провайдерами (Opt-out). Данные клиентов **не используются** для обучения моделей. |

---

## Почему сейчас?

1. **LLM достигли production-ready качества** — GPT-4, Claude, Qwen3 генерируют текст, неотличимый от человеческого
2. **RAG-технологии созрели** — гибридный поиск решает проблему галлюцинаций
3. **Docling вышел в open-source** — enterprise-grade обработка документов бесплатна
4. **Корпоративное обучение переживает трансформацию** — рынок EdTech B2B растёт на 15-20% ежегодно
5. **Дефицит контента** — компании не успевают создавать обучающие материалы

---

## Команда и статус

### Текущий статус
- ✅ MVP запущен и генерирует курсы
- ✅ 6-стадийный pipeline полностью реализован
- ✅ Система качества (CLEV Voting) работает в production
- ✅ Docling интеграция с 12+ форматами
- ✅ Генерация из темы без документов

### Ближайшие планы
- [ ] Stage 7: Видео-генерация с AI-аватаром
- [ ] Stage 8: Аудио-генерация (TTS)
- [ ] Интеграция с корпоративными LMS
- [ ] API для белой метки (white-label)
- [ ] Локализация на 10+ языков

---

## Инвестиционное предложение

Мы ищем инвестиции для:
1. **Масштабирования инфраструктуры** — обработка 1000+ курсов/день
2. **Расширения команды** — ML-инженеры, DevOps, продажи
3. **Выхода на международные рынки** — США, Европа, Азия
4. **R&D** — мультимодальная генерация (видео, аудио, слайды)

---

## Контакты

**MegaCampus AI** — превращаем знания в курсы за минуты.

*"Мы не просто автоматизируем создание контента. Мы делаем образование доступным для каждой компании, независимо от её размера и бюджета."*
