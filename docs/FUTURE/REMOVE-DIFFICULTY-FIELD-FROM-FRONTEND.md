# FUTURE: Remove Difficulty Field from Frontend

**Status**: DEFERRED (Post-Stage 5)
**Priority**: Low (UX improvement, not blocking production)
**Blocking**: None
**Implementation Timeline**: Post-Stage 6
**Related**: specs/008-generation-generation-json/spec.md:22

---

## Context

–í —Ç–µ–∫—É—â–µ–π —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏ frontend —Å–æ–¥–µ—Ä–∂–∏—Ç –ø–æ–ª–µ –≤—ã–±–æ—Ä–∞ —Å–ª–æ–∂–Ω–æ—Å—Ç–∏ –∫—É—Ä—Å–∞ (`difficulty`), –∫–æ—Ç–æ—Ä–æ–µ –ø–æ–∑–≤–æ–ª—è–µ—Ç –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—é –≤—Ä—É—á–Ω—É—é —É–∫–∞–∑–∞—Ç—å —É—Ä–æ–≤–µ–Ω—å —Å–ª–æ–∂–Ω–æ—Å—Ç–∏ (beginner/intermediate/advanced). –û–¥–Ω–∞–∫–æ —ç—Ç–æ —Å–æ–∑–¥–∞—ë—Ç –∫–æ–Ω—Ñ–ª–∏–∫—Ç—ã –∏ –ø—Ä–æ—Ç–∏–≤–æ—Ä–µ—á–∏—è:

1. **AI –æ–ø—Ä–µ–¥–µ–ª—è–µ—Ç difficulty –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏** –≤ Analyze Phase 1 (Stage 4) –Ω–∞ –æ—Å–Ω–æ–≤–µ:
   - –ê–Ω–∞–ª–∏–∑–∞ —Å–æ–¥–µ—Ä–∂–∞–Ω–∏—è –∫—É—Ä—Å–∞
   - –¶–µ–ª–µ–≤–æ–π –∞—É–¥–∏—Ç–æ—Ä–∏–∏
   - –ü–µ–¥–∞–≥–æ–≥–∏—á–µ—Å–∫–∏—Ö —Ç—Ä–µ–±–æ–≤–∞–Ω–∏–π
   - –†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–π expert analysis

2. **–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–∏–π –≤–≤–æ–¥ –º–µ–Ω–µ–µ —Ç–æ—á–µ–Ω**, —á–µ–º AI-–æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ:
   - –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –º–æ–∂–µ—Ç –ø–µ—Ä–µ–æ—Ü–µ–Ω–∏—Ç—å/–Ω–µ–¥–æ–æ—Ü–µ–Ω–∏—Ç—å —Å–ª–æ–∂–Ω–æ—Å—Ç—å
   - –°—É–±—ä–µ–∫—Ç–∏–≤–Ω–∞—è –æ—Ü–µ–Ω–∫–∞ vs –æ–±—ä–µ–∫—Ç–∏–≤–Ω—ã–π –∞–Ω–∞–ª–∏–∑
   - –°–æ–∑–¥–∞—ë—Ç –∫–æ–Ω—Ñ–ª–∏–∫—Ç—ã –º–µ–∂–¥—É user input –∏ AI recommendations

3. **–ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–Ω—ã–π –ø—Ä–∏–Ω—Ü–∏–ø** (spec.md:22):
   > **Analyze Stage is authoritative**. Frontend –ø–∞—Ä–∞–º–µ—Ç—Ä—ã ‚Äî —ç—Ç–æ guidance (—Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏), –ù–ï constraints (–æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è)

## Rationale (–ü–æ—á–µ–º—É –æ—Ç–ª–æ–∂–µ–Ω–æ)

**–ù–µ –±–ª–æ–∫–∏—Ä—É–µ—Ç Stage 5 production deployment** –ø–æ —Å–ª–µ–¥—É—é—â–∏–º –ø—Ä–∏—á–∏–Ω–∞–º:

1. ‚úÖ **–¢–µ–∫—É—â–∞—è —Å–∏—Å—Ç–µ–º–∞ —Ä–∞–±–æ—Ç–∞–µ—Ç –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ**:
   - –ï—Å–ª–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å —É–∫–∞–∑—ã–≤–∞–µ—Ç difficulty, AI —É—á–∏—Ç—ã–≤–∞–µ—Ç —ç—Ç–æ –∫–∞–∫ hint, –Ω–æ –º–æ–∂–µ—Ç –ø–µ—Ä–µ–æ–ø—Ä–µ–¥–µ–ª–∏—Ç—å
   - –õ–æ–≥–∏—Ä—É–µ—Ç—Å—è deviation —Å rationale
   - –ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç –≤—Å–µ–≥–¥–∞ –∑–∞ Analyze Stage (–ø–µ–¥–∞–≥–æ–≥–∏—á–µ—Å–∫–∞—è –ø—Ä–∞–≤–∏–ª—å–Ω–æ—Å—Ç—å)

2. ‚úÖ **–ù–µ—Ç –∫—Ä–∏—Ç–∏—á–µ—Å–∫–∏—Ö –∫–æ–Ω—Ñ–ª–∏–∫—Ç–æ–≤**:
   - –°–∏—Å—Ç–µ–º–∞ –Ω–µ –ª–æ–º–∞–µ—Ç—Å—è –ø—Ä–∏ –Ω–∞–ª–∏—á–∏–∏ –ø–æ–ª—è
   - Conflict resolution —Ä–∞–±–æ—Ç–∞–µ—Ç –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ (spec.md:22 clarification)
   - –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –ø–æ–ª—É—á–∞–µ—Ç –æ–ø—Ç–∏–º–∞–ª—å–Ω—ã–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç –Ω–µ–∑–∞–≤–∏—Å–∏–º–æ –æ—Ç input

3. ‚è±Ô∏è **–¢—Ä–µ–±—É–µ—Ç frontend –∏–∑–º–µ–Ω–µ–Ω–∏–π**:
   - –£–¥–∞–ª–µ–Ω–∏–µ –ø–æ–ª—è –∏–∑ —Ñ–æ—Ä–º —Å–æ–∑–¥–∞–Ω–∏—è –∫—É—Ä—Å–∞
   - –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ UX flow (—É–±—Ä–∞—Ç—å —à–∞–≥ –≤—ã–±–æ—Ä–∞ —Å–ª–æ–∂–Ω–æ—Å—Ç–∏)
   - –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏–∏ –¥–ª—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π
   - A/B —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –¥–ª—è –ø—Ä–æ–≤–µ—Ä–∫–∏ –≤–ª–∏—è–Ω–∏—è –Ω–∞ UX

4. üéØ **–õ—É—á—à–µ —Å–¥–µ–ª–∞—Ç—å –ø–æ—Å–ª–µ Stage 6**:
   - –ö–æ–≥–¥–∞ –≤—Å—è –≥–µ–Ω–µ—Ä–∞—Ü–∏—è (Structure + Lessons) —Ä–∞–±–æ—Ç–∞–µ—Ç —Å—Ç–∞–±–∏–ª—å–Ω–æ
   - –ú–æ–∂–µ–º —Å–æ–±—Ä–∞—Ç—å –º–µ—Ç—Ä–∏–∫–∏ —Ç–æ—á–Ω–æ—Å—Ç–∏ AI-–æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏—è difficulty
   - –ú–æ–∂–µ–º –ø–æ–∫–∞–∑–∞—Ç—å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è–º, —á—Ç–æ AI –æ–ø—Ä–µ–¥–µ–ª—è–µ—Ç —Å–ª–æ–∂–Ω–æ—Å—Ç—å –ª—É—á—à–µ

## Implementation Plan

### Phase 1: Metrics Collection (During Stage 6)

**–¶–µ–ª—å**: –°–æ–±—Ä–∞—Ç—å –¥–∞–Ω–Ω—ã–µ –æ —Ç–æ—á–Ω–æ—Å—Ç–∏ AI-–æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏—è difficulty vs –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–∏–π –≤—ã–±–æ—Ä

**Tasks**:
- [ ] –õ–æ–≥–∏—Ä–æ–≤–∞—Ç—å `user_selected_difficulty` vs `ai_determined_difficulty` –≤ –º–µ—Ç–∞–¥–∞–Ω–Ω—ã–µ –∫—É—Ä—Å–∞
- [ ] –î–æ–±–∞–≤–∏—Ç—å –º–µ—Ç—Ä–∏–∫—É deviation: `difficulty_override_count` (—Å–∫–æ–ª—å–∫–æ —Ä–∞–∑ AI –ø–µ—Ä–µ–æ–ø—Ä–µ–¥–µ–ª–∏–ª –≤—ã–±–æ—Ä –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è)
- [ ] –°–æ–±–∏—Ä–∞—Ç—å feedback –æ—Ç –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π: "–°–æ–≥–ª–∞—Å–Ω—ã –ª–∏ –≤—ã —Å –æ–ø—Ä–µ–¥–µ–ª—ë–Ω–Ω—ã–º —É—Ä–æ–≤–Ω–µ–º —Å–ª–æ–∂–Ω–æ—Å—Ç–∏?" (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω—ã–π –æ–ø—Ä–æ—Å)
- [ ] –ê–Ω–∞–ª–∏–∑ –∑–∞ 1-2 –º–µ—Å—è—Ü–∞: –≤ –∫–∞–∫–æ–º % —Å–ª—É—á–∞–µ–≤ AI –ø–µ—Ä–µ–æ–ø—Ä–µ–¥–µ–ª—è–µ—Ç –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è?

**Success Criteria**:
- AI –ø–µ—Ä–µ–æ–ø—Ä–µ–¥–µ–ª—è–µ—Ç –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –≤ >30% —Å–ª—É—á–∞–µ–≤ ‚Üí –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–∞–µ—Ç –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ—Å—Ç—å —É–¥–∞–ª–µ–Ω–∏—è –ø–æ–ª—è
- User feedback –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç, —á—Ç–æ AI-–æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ —Ç–æ—á–Ω–µ–µ –≤ >70% —Å–ª—É—á–∞–µ–≤

### Phase 2: Frontend Changes (Post-Stage 6)

**–¶–µ–ª—å**: –£–¥–∞–ª–∏—Ç—å –ø–æ–ª–µ difficulty –∏–∑ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–æ–≥–æ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–∞

**Tasks**:
- [ ] **courseai-next/app/courses/create/page.tsx**: –£–¥–∞–ª–∏—Ç—å dropdown/radio –¥–ª—è –≤—ã–±–æ—Ä–∞ difficulty
- [ ] **courseai-next/components/course-form.tsx**: –£–±—Ä–∞—Ç—å difficulty field –∏–∑ —Ñ–æ—Ä–º—ã
- [ ] **courseai-next/lib/validations/course.ts**: –£–¥–∞–ª–∏—Ç—å difficulty –∏–∑ Zod schema (–µ—Å–ª–∏ –µ—Å—Ç—å frontend validation)
- [ ] **courseai-next/app/courses/[id]/edit/page.tsx**: –£–±—Ä–∞—Ç—å –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å —Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏—è difficulty (–ø–æ–∫–∞–∑—ã–≤–∞—Ç—å —Ç–æ–ª—å–∫–æ AI-–æ–ø—Ä–µ–¥–µ–ª—ë–Ω–Ω–æ–µ –∑–Ω–∞—á–µ–Ω–∏–µ)
- [ ] **packages/shared-types/src/frontend-parameters.ts**: –°–¥–µ–ª–∞—Ç—å `difficulty` deprecated (–¥–æ–±–∞–≤–∏—Ç—å warning –≤ JSDoc)
- [ ] **Documentation**: –û–±–Ω–æ–≤–∏—Ç—å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–∏–µ –≥–∞–π–¥—ã, —É–∫–∞–∑–∞–≤, —á—Ç–æ —Å–ª–æ–∂–Ω–æ—Å—Ç—å –æ–ø—Ä–µ–¥–µ–ª—è–µ—Ç—Å—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏

**UI Changes**:
1. **Create Course Form**:
   - –£–±—Ä–∞—Ç—å: "–í—ã–±–µ—Ä–∏—Ç–µ —É—Ä–æ–≤–µ–Ω—å —Å–ª–æ–∂–Ω–æ—Å—Ç–∏: ‚óã Beginner ‚óã Intermediate ‚óã Advanced"
   - –î–æ–±–∞–≤–∏—Ç—å: –ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏–æ–Ω–Ω–æ–µ —Å–æ–æ–±—â–µ–Ω–∏–µ "–£—Ä–æ–≤–µ–Ω—å —Å–ª–æ–∂–Ω–æ—Å—Ç–∏ –±—É–¥–µ—Ç –æ–ø—Ä–µ–¥–µ–ª—ë–Ω –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –Ω–∞ –æ—Å–Ω–æ–≤–µ —Å–æ–¥–µ—Ä–∂–∞–Ω–∏—è –∫—É—Ä—Å–∞"

2. **Course Details Page** (–ø–æ—Å–ª–µ –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏):
   - –ü–æ–∫–∞–∑—ã–≤–∞—Ç—å AI-–æ–ø—Ä–µ–¥–µ–ª—ë–Ω–Ω—É—é —Å–ª–æ–∂–Ω–æ—Å—Ç—å —Å –∏–∫–æ–Ω–∫–æ–π "‚ú® AI-–æ–ø—Ä–µ–¥–µ–ª–µ–Ω–æ"
   - Tooltip: "–£—Ä–æ–≤–µ–Ω—å —Å–ª–æ–∂–Ω–æ—Å—Ç–∏ —Ä–∞—Å—Å—á–∏—Ç–∞–Ω –Ω–∞ –æ—Å–Ω–æ–≤–µ –∞–Ω–∞–ª–∏–∑–∞ —Å–æ–¥–µ—Ä–∂–∞–Ω–∏—è, —Ü–µ–ª–µ–≤–æ–π –∞—É–¥–∏—Ç–æ—Ä–∏–∏ –∏ –ø–µ–¥–∞–≥–æ–≥–∏—á–µ—Å–∫–∏—Ö —Å—Ç–∞–Ω–¥–∞—Ä—Ç–æ–≤"

**Testing**:
- [ ] E2E —Ç–µ—Å—Ç: –°–æ–∑–¥–∞–Ω–∏–µ –∫—É—Ä—Å–∞ –±–µ–∑ —É–∫–∞–∑–∞–Ω–∏—è difficulty ‚Üí —É—Å–ø–µ—à–Ω–∞—è –≥–µ–Ω–µ—Ä–∞—Ü–∏—è
- [ ] E2E —Ç–µ—Å—Ç: –ö—É—Ä—Å –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç AI-–æ–ø—Ä–µ–¥–µ–ª—ë–Ω–Ω—É—é —Å–ª–æ–∂–Ω–æ—Å—Ç—å –ø–æ—Å–ª–µ Analyze Phase
- [ ] Manual UX testing: –ü—Ä–æ–≤–µ—Ä–∏—Ç—å, —á—Ç–æ –æ—Ç—Å—É—Ç—Å—Ç–≤–∏–µ –ø–æ–ª—è –Ω–µ confusing –¥–ª—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π

### Phase 3: Backend Cleanup (Post-Frontend Changes)

**–¶–µ–ª—å**: –£–±—Ä–∞—Ç—å –æ–±—Ä–∞–±–æ—Ç–∫—É deprecated –ø–æ–ª—è –Ω–∞ backend

**Tasks**:
- [ ] **packages/shared-types/src/generation-job.ts**: –£–¥–∞–ª–∏—Ç—å `difficulty?: DifficultyLevel` –∏–∑ `FrontendParametersSchema`
- [ ] **packages/course-gen-platform/src/services/stage5/metadata-generator.ts**: –£–±—Ä–∞—Ç—å –æ–±—Ä–∞–±–æ—Ç–∫—É `input.frontend_parameters.difficulty`
- [ ] **packages/course-gen-platform/src/services/stage4/analyze-orchestrator.ts**: –£–±—Ä–∞—Ç—å conflict resolution –¥–ª—è difficulty (–±–æ–ª—å—à–µ –Ω–µ –Ω—É–∂–Ω–æ)
- [ ] **Database Migration**: –î–æ–±–∞–≤–∏—Ç—å –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–π –∫ `courses.difficulty_level` —Å—Ç–æ–ª–±—Ü—É: "Populated by Analyze Phase 1, user input deprecated"
- [ ] **API Documentation**: –û–±–Ω–æ–≤–∏—Ç—å tRPC API docs, —É–∫–∞–∑–∞–≤, —á—Ç–æ difficulty –±–æ–ª—å—à–µ –Ω–µ –ø—Ä–∏–Ω–∏–º–∞–µ—Ç—Å—è –æ—Ç –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è

**Migration Strategy**:
1. ‚úÖ **Graceful degradation**: –ï—Å–ª–∏ —Å—Ç–∞—Ä—ã–π frontend –µ—â—ë –æ—Ç–ø—Ä–∞–≤–ª—è–µ—Ç difficulty ‚Üí –∏–≥–Ω–æ—Ä–∏—Ä–æ–≤–∞—Ç—å, –ª–æ–≥–∏—Ä–æ–≤–∞—Ç—å warning
2. ‚úÖ **Backward compatibility**: Existing courses —Å user-selected difficulty –ø—Ä–æ–¥–æ–ª–∂–∞—é—Ç —Ä–∞–±–æ—Ç–∞—Ç—å (–Ω–µ —Ç—Ä–æ–≥–∞–µ–º —Å—Ç–∞—Ä—ã–µ –¥–∞–Ω–Ω—ã–µ)
3. ‚ö†Ô∏è **Deprecation timeline**: 3 –º–µ—Å—è—Ü–∞ warning period, –∑–∞—Ç–µ–º –ø–æ–ª–Ω–æ–µ —É–¥–∞–ª–µ–Ω–∏–µ –ø–æ–¥–¥–µ—Ä–∂–∫–∏

### Phase 4: User Communication

**–¶–µ–ª—å**: –û–±—ä—è—Å–Ω–∏—Ç—å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è–º –∏–∑–º–µ–Ω–µ–Ω–∏–µ

**Tasks**:
- [ ] **Release Notes**: –ù–∞–ø–∏—Å–∞—Ç—å –æ–±—ä—è—Å–Ω–µ–Ω–∏–µ –≤ changelog: "–ü–æ–ª–µ –≤—ã–±–æ—Ä–∞ —Å–ª–æ–∂–Ω–æ—Å—Ç–∏ —É–¥–∞–ª–µ–Ω–æ ‚Äî —Ç–µ–ø–µ—Ä—å AI –æ–ø—Ä–µ–¥–µ–ª—è–µ—Ç –æ–ø—Ç–∏–º–∞–ª—å–Ω—ã–π —É—Ä–æ–≤–µ–Ω—å –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏"
- [ ] **In-App Announcement**: –ü–æ–∫–∞–∑–∞—Ç—å notification –ø—Ä–∏ –ø–µ—Ä–≤–æ–º —Å–æ–∑–¥–∞–Ω–∏–∏ –∫—É—Ä—Å–∞: "–û–±–Ω–æ–≤–ª–µ–Ω–∏–µ: –°–ª–æ–∂–Ω–æ—Å—Ç—å –∫—É—Ä—Å–∞ —Ç–µ–ø–µ—Ä—å –æ–ø—Ä–µ–¥–µ–ª—è–µ—Ç—Å—è AI –¥–ª—è –º–∞–∫—Å–∏–º–∞–ª—å–Ω–æ–π —Ç–æ—á–Ω–æ—Å—Ç–∏"
- [ ] **Help Center Article**: –î–æ–±–∞–≤–∏—Ç—å FAQ: "–ü–æ—á–µ–º—É —è –Ω–µ –º–æ–≥—É –≤—ã–±—Ä–∞—Ç—å —Å–ª–æ–∂–Ω–æ—Å—Ç—å –∫—É—Ä—Å–∞?"
  - –û—Ç–≤–µ—Ç: "–ù–∞—à–∞ AI-—Å–∏—Å—Ç–µ–º–∞ –∞–Ω–∞–ª–∏–∑–∏—Ä—É–µ—Ç —Å–æ–¥–µ—Ä–∂–∞–Ω–∏–µ –∏ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –æ–ø—Ä–µ–¥–µ–ª—è–µ—Ç –æ–ø—Ç–∏–º–∞–ª—å–Ω—ã–π —É—Ä–æ–≤–µ–Ω—å —Å–ª–æ–∂–Ω–æ—Å—Ç–∏, —á—Ç–æ –æ–±–µ—Å–ø–µ—á–∏–≤–∞–µ—Ç –±–æ–ª–µ–µ —Ç–æ—á–Ω—ã–µ —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã, —á–µ–º —Ä—É—á–Ω–æ–π –≤—ã–±–æ—Ä"
- [ ] **Feedback Collection**: –ú–æ–Ω–∏—Ç–æ—Ä–∏—Ç—å support tickets –∏ user feedback –ø–æ—Å–ª–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è (–ø–µ—Ä–≤—ã–π –º–µ—Å—è—Ü)

## Technical Dependencies

**Required Before Implementation**:
1. ‚úÖ Stage 4 (Analyze) –ø–æ–ª–Ω–æ—Å—Ç—å—é —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω (AI-–æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ difficulty —Ä–∞–±–æ—Ç–∞–µ—Ç)
2. ‚úÖ Stage 5 (Generation) –∏—Å–ø–æ–ª—å–∑—É–µ—Ç Analyze results (difficulty propagation —Ä–∞–±–æ—Ç–∞–µ—Ç)
3. ‚úÖ Stage 6 (Lesson Generation) –∑–∞–≤–µ—Ä—à—ë–Ω (–≤—Å—è —Ü–µ–ø–æ—á–∫–∞ –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏ —Å—Ç–∞–±–∏–ª—å–Ω–∞)
4. ‚úÖ Metrics collection –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç >30% override rate (–ø–æ–¥—Ç–≤–µ—Ä–∂–¥–∞–µ—Ç –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ—Å—Ç—å)

**Does NOT Require**:
- ‚ùå Breaking changes –≤ database schema (difficulty_level —Å—Ç–æ–ª–±–µ—Ü –æ—Å—Ç–∞—ë—Ç—Å—è)
- ‚ùå –ú–∏–≥—Ä–∞—Ü–∏—è —Å—É—â–µ—Å—Ç–≤—É—é—â–∏—Ö –∫—É—Ä—Å–æ–≤ (—Å—Ç–∞—Ä—ã–µ –¥–∞–Ω–Ω—ã–µ –Ω–µ —Ç—Ä–æ–≥–∞–µ–º)
- ‚ùå Changes –≤ Analyze/Generation logic (—É–∂–µ —Ä–∞–±–æ—Ç–∞–µ—Ç –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ –±–µ–∑ user input)

## Success Criteria

**Implementation –°—á–∏—Ç–∞–µ—Ç—Å—è –£—Å–ø–µ—à–Ω–æ–π –ï—Å–ª–∏**:

1. ‚úÖ **Frontend Changes**:
   - –ü–æ–ª–µ difficulty —É–¥–∞–ª–µ–Ω–æ –∏–∑ –≤—Å–µ—Ö —Ñ–æ—Ä–º —Å–æ–∑–¥–∞–Ω–∏—è/—Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏—è
   - Users –Ω–µ –≤–∏–¥—è—Ç –æ–ø—Ü–∏—é –≤—ã–±–æ—Ä–∞ —Å–ª–æ–∂–Ω–æ—Å—Ç–∏
   - UI –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç AI-–æ–ø—Ä–µ–¥–µ–ª—ë–Ω–Ω—É—é —Å–ª–æ–∂–Ω–æ—Å—Ç—å –∫–∞–∫ read-only

2. ‚úÖ **Backend Changes**:
   - API –∏–≥–Ω–æ—Ä–∏—Ä—É–µ—Ç difficulty –≤ user input (–µ—Å–ª–∏ –æ—Ç–ø—Ä–∞–≤–ª–µ–Ω–æ —Å—Ç–∞—Ä—ã–º –∫–ª–∏–µ–Ω—Ç–æ–º)
   - Analyze Phase –ø—Ä–æ–¥–æ–ª–∂–∞–µ—Ç –æ–ø—Ä–µ–¥–µ–ª—è—Ç—å difficulty –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏
   - –õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç 0 conflict resolution –¥–ª—è difficulty (field –Ω–µ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è)

3. ‚úÖ **User Experience**:
   - <5% support tickets –æ "missing difficulty field" –≤ –ø–µ—Ä–≤—ã–π –º–µ—Å—è—Ü
   - User feedback –ø–æ–ª–æ–∂–∏—Ç–µ–ª—å–Ω—ã–π –∏–ª–∏ –Ω–µ–π—Ç—Ä–∞–ª—å–Ω—ã–π (–Ω–µ –Ω–µ–≥–∞—Ç–∏–≤–Ω—ã–π)
   - A/B —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç, —á—Ç–æ —É–¥–∞–ª–µ–Ω–∏–µ –Ω–µ impact course creation rate

4. ‚úÖ **Quality Metrics**:
   - AI-–æ–ø—Ä–µ–¥–µ–ª—ë–Ω–Ω–∞—è —Å–ª–æ–∂–Ω–æ—Å—Ç—å –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç >85% user satisfaction (post-generation survey)
   - Deviation –º–µ–∂–¥—É AI difficulty –∏ actual course content <10% (manual audit)

## Estimated Effort

**Total**: 2-3 –¥–Ω—è (1 developer)

**Breakdown**:
- Phase 1 (Metrics): 0.5 –¥–Ω—è (–¥–æ–±–∞–≤–∏—Ç—å –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ)
- Phase 2 (Frontend): 1 –¥–µ–Ω—å (—É–¥–∞–ª–∏—Ç—å –ø–æ–ª—è, –æ–±–Ω–æ–≤–∏—Ç—å UI, E2E tests)
- Phase 3 (Backend): 0.5 –¥–Ω—è (cleanup, deprecation warnings)
- Phase 4 (Communication): 1 –¥–µ–Ω—å (release notes, docs, FAQ)

**Timeline**: Post-Stage 6 (–∫–æ–≥–¥–∞ –≤—Å—è –≥–µ–Ω–µ—Ä–∞—Ü–∏—è —Å—Ç–∞–±–∏–ª—å–Ω–∞ –∏ metrics —Å–æ–±—Ä–∞–Ω—ã)

## References

- specs/008-generation-generation-json/spec.md:22 - Clarification –æ conflict resolution
- specs/007-stage-4-analyze/spec.md - Analyze Phase 1 –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ difficulty
- docs/IMPLEMENTATION_ROADMAP_EN.md - Stage progression timeline
- .claude/CLAUDE.md - Constitution principle III (Spec-Driven Development)

---

**Version**: 1.0.0
**Created**: 2025-11-06
**Last Updated**: 2025-11-06
**Owner**: Frontend Team (–∫–æ–æ—Ä–¥–∏–Ω–∞—Ü–∏—è —Å Backend Team –¥–ª—è Phase 3)
